(this.webpackJsonpsquare=this.webpackJsonpsquare||[]).push([[0],{233:function(e,t,n){},234:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var c,a=n(0),o=n.n(a),s=n(33),r=n.n(s),i=n(3),l=n(17),u=n(4),d=n(35),O=n.n(d),j=n(11),h=n.n(j),p=n(20),b=n(87),f=n.n(b).a.create({baseURL:"https://api.unsplash.com",headers:{Authorization:"Client-ID 7320nK4smLMmTDYiZwkX_dyMq6DkQNLCE0t7mH-IKgE"}});!function(e){e.SET_PHOTO="MODAL@SET_PHOTO",e.SET_IS_LOADING="MODAL@SET_IS_LOADING",e.SET_SHOW_MODAL="MODAL@SET_SHOW_MODAL",e.SET_CLOSE_MODAL="MODAL@SET_CLOSE_MODAL"}(c||(c={}));var _,m=function(e){return{type:c.SET_SHOW_MODAL,payload:e}},x=function(){return{type:c.SET_CLOSE_MODAL}};!function(e){e.SET_PHOTOS="PHOTOS@SET_PHOTOS",e.SET_QUERY="PHOTOS@SET_QUERY",e.SET_CLEAR="PHOTOS@SET_CLEAR",e.SET_IS_LOADING="PHOTOS@SET_IS_LOADING",e.SET_RANDOM_PHOTO="PHOTOS@SET_RANDOM_PHOTO",e.SET_FOUND_PHOTOS="PHOTOS@SET_FOUND_PHOTOS",e.SET_PAGE="PHOTOS@SET_PAGE"}(_||(_={}));var S=function(){return{type:_.SET_CLEAR}},g=function(e){return{type:_.SET_PAGE,payload:e}},v=n.p+"static/media/loading.196735b1.gif",E=n(1),L=function(){return Object(E.jsx)("div",{style:{textAlign:"center"},children:Object(E.jsx)("img",{src:v,alt:"loading",width:"135px"})})},T=n.p+"static/media/location.72e55ebe.svg",y=(n(233),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.modal.photoId})),n=Object(i.c)((function(e){return e.modal.photo})),a=Object(i.c)((function(e){return e.modal.isLoading})),s=o.a.useRef(),r=function(t){s.current&&!s.current.contains(t.target)&&e(x())};return o.a.useEffect((function(){return document.body.addEventListener("click",r),function(){document.body.removeEventListener("click",r)}}),[]),o.a.useEffect((function(){e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:c.SET_IS_LOADING}),t.next=4,f.get("/photos/".concat(e));case 4:a=t.sent,n((o=a.data,{type:c.SET_PHOTO,payload:o})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var o}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e,t]),Object(E.jsx)("div",{className:"modal",children:Object(E.jsxs)("div",{ref:s,className:"modal__container",children:[Object(E.jsx)("span",{className:"modal__container-button",onClick:function(){return e(x())},children:Object(E.jsx)("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30px",height:"30px",children:Object(E.jsx)("path",{d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"})})}),a&&Object(E.jsx)(L,{}),Object.keys(n).length>0&&Object(E.jsxs)("div",{className:"modal__content",children:[Object(E.jsxs)("div",{className:"author__info",children:[Object(E.jsx)("img",{src:n.user.profile_image.small,alt:n.user.name,className:"author__info-photo"}),Object(E.jsxs)("p",{className:"author__info-name",children:[" ",n.user.name]})]}),Object(E.jsx)("img",{src:n.urls.regular,alt:n.alt_description,className:"modal__content-photo"}),Object(E.jsxs)("p",{className:"modal__content-location",children:[n.location.title&&Object(E.jsx)("img",{src:T,alt:"",width:"16px",style:{marginRight:"5px"}}),n.location.title]})]})]})})}),N=(n(234),function(){var e=Object(u.g)().query,t=Object(i.b)(),n=Object(i.c)((function(e){return e.photos.foundPhotos})),c=Object(i.c)((function(e){return e.photos.isLoading})),a=Object(i.c)((function(e){return e.modal.showModal}));o.a.useEffect((function(){t(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:_.SET_IS_LOADING}),t.next=4,f.get("/search/photos?per_page=30&query=".concat(e));case 4:c=t.sent,n((a=c.data.results,{type:_.SET_FOUND_PHOTOS,payload:a})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var a}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[t,e]);var s;return c?Object(E.jsx)(L,{}):Object(E.jsxs)(E.Fragment,{children:[a&&Object(E.jsx)(y,{}),Object(E.jsxs)("div",{className:"found",children:[Object(E.jsx)("h1",{children:(s=e,s.toLowerCase().split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "))}),Object(E.jsx)(O.a,{options:{fitWidth:!0},style:{margin:"0 auto"},children:n&&n.map((function(e){return Object(E.jsxs)("div",{className:"found__item",onClick:function(){return t(m(e.id))},children:[Object(E.jsx)("img",{src:e.urls.small,alt:e.alt_description}),Object(E.jsx)("div",{className:"found__item-info",children:Object(E.jsxs)("div",{className:"found__item-info-flex",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:e.user.profile_image.small,alt:e.alt_description})}),Object(E.jsx)("p",{children:e.user.name})]})})]},e.id)}))})]})]})}),w=n.p+"static/media/logo.4d398d16.svg",A=(n(236),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.photos.query})),n=Object(u.f)(),c=function(t){n.push("/".concat(t).toLowerCase()),e(S())};return Object(E.jsx)("form",{className:"form",children:Object(E.jsxs)("div",{className:"form__content",children:[Object(E.jsx)("span",{onClick:function(){return c(t)},className:"search__button",children:Object(E.jsx)("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"20px",height:"20px",children:Object(E.jsx)("path",{d:"M 20.5 6 C 12.509634 6 6 12.50964 6 20.5 C 6 28.49036 12.509634 35 20.5 35 C 23.956359 35 27.133709 33.779044 29.628906 31.75 L 39.439453 41.560547 A 1.50015 1.50015 0 1 0 41.560547 39.439453 L 31.75 29.628906 C 33.779044 27.133709 35 23.956357 35 20.5 C 35 12.50964 28.490366 6 20.5 6 z M 20.5 9 C 26.869047 9 32 14.130957 32 20.5 C 32 23.602612 30.776198 26.405717 28.791016 28.470703 A 1.50015 1.50015 0 0 0 28.470703 28.791016 C 26.405717 30.776199 23.602614 32 20.5 32 C 14.130953 32 9 26.869043 9 20.5 C 9 14.130957 14.130953 9 20.5 9 z"})})}),Object(E.jsx)("input",{type:"text",placeholder:"Search free amazing photos",value:t,onChange:function(t){e(function(e){return{type:_.SET_QUERY,payload:e}}(t.target.value))},onKeyPress:function(e){if("Enter"!==e.key)return!1;e.preventDefault(),c(t)}}),t?Object(E.jsx)("span",{onClick:function(){return e(S())},className:"cancel__button",children:Object(E.jsx)("svg",{fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20px",height:"20px",children:Object(E.jsx)("path",{d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"})})}):null]})})}),D=(n(237),function(){return Object(E.jsx)("header",{className:"header",children:Object(E.jsx)("div",{className:"container",children:Object(E.jsx)("div",{className:"header__content",children:Object(E.jsxs)("div",{className:"header__left-side",children:[Object(E.jsx)(l.b,{to:"/",children:Object(E.jsx)("img",{src:w,alt:"logo",width:"85px"})}),Object(E.jsx)(A,{})]})})})})}),P=n(88),M=function(e){var t=e.photos,n=e.isLoading,c=e.fetchMoreData,a=e.page,o=Object(i.b)();return Object(E.jsx)(P.a,{next:function(){return c(a)},hasMore:!0,loader:null,dataLength:t.length,style:{overflow:"hidden"},children:Object(E.jsx)(O.a,{options:{fitWidth:!0},style:{margin:"0 auto"},children:n?Object(E.jsx)(L,{}):t&&t.map((function(e){return Object(E.jsxs)("div",{onClick:function(){return o(m(e.id))},className:"home__item",children:[Object(E.jsx)("img",{src:e.urls.small,alt:e.alt_description}),Object(E.jsx)("div",{className:"home__item-info",children:Object(E.jsxs)("div",{className:"home__item-info-flex",children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:e.user.profile_image.small,alt:e.alt_description})}),Object(E.jsx)("p",{children:e.user.name})]})})]},e.id)}))})})},k=(n(238),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.photos.photos})),n=Object(i.c)((function(e){return e.photos.randomPhoto})),c=Object(i.c)((function(e){return e.photos.isLoading})),a=Object(i.c)((function(e){return e.photos.page})),s=Object(i.c)((function(e){return e.modal.showModal})),r=function(t){e(function(e){return function(){var t=Object(p.a)(h.a.mark((function t(n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(g(e)),t.next=4,f.get("/photos?page=".concat(e));case 4:c=t.sent,n((a=c.data,{type:_.SET_PHOTOS,payload:a})),n(g(e+1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}var a}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))};return o.a.useEffect((function(){e(function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/photos/random/?count=1&orientation=landscape");case 3:n=e.sent,t((c=n.data,{type:_.SET_RANDOM_PHOTO,payload:c})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),o.a.useEffect((function(){r(a)}),[]),Object(E.jsxs)(E.Fragment,{children:[s&&Object(E.jsx)(y,{}),Object(E.jsx)("div",{className:"home",children:Object(E.jsxs)("div",{className:"home__content",children:[n&&n.map((function(t){return Object(E.jsxs)("div",{className:"home__content-item",children:[Object(E.jsx)("img",{src:t.urls.regular,alt:t.alt_description}),Object(E.jsxs)("p",{children:[Object(E.jsx)("span",{onClick:function(){return e(m(t.id))},children:"Photo "}),"by "," ",t.user.name]})]},t.id)})),Object(E.jsxs)("div",{className:"home__content-info",children:[Object(E.jsx)("h3",{className:"title",children:"Square"}),Object(E.jsx)("p",{className:"description",children:"Free amazing photos inspired by people all over the world."})]})]})}),Object(E.jsx)(M,{photos:t,isLoading:c,fetchMoreData:r,page:a})]})}),C=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(D,{}),Object(E.jsxs)(u.c,{children:[Object(E.jsx)(u.a,{exact:!0,path:"/",component:k}),Object(E.jsx)(u.a,{exact:!0,path:"/:query",component:N})]})]})},H=(n(239),n(21)),I=n(89),R=n(36),G=Object(R.a)((function(e,t){switch(t.type){case c.SET_PHOTO:e.isLoading=!1,e.photo=t.payload;break;case c.SET_IS_LOADING:e.isLoading=!0;break;case c.SET_SHOW_MODAL:e.showModal=!0,e.photoId=t.payload;break;case c.SET_CLOSE_MODAL:e.showModal=!1,e.photoId="",e.photo={}}}),{photo:{},isLoading:!1,showModal:!1,photoId:""}),q=n(90),U=Object(R.a)((function(e,t){var n;switch(t.type){case _.SET_PHOTOS:(n=e.photos).push.apply(n,Object(q.a)(t.payload));break;case _.SET_RANDOM_PHOTO:e.randomPhoto=t.payload;break;case _.SET_FOUND_PHOTOS:e.isLoading=!1,e.foundPhotos=t.payload;break;case _.SET_QUERY:e.query=t.payload;break;case _.SET_CLEAR:e.query="";break;case _.SET_IS_LOADING:e.isLoading=!0;break;case _.SET_PAGE:e.page=t.payload}}),{photos:[],randomPhoto:[],foundPhotos:[],query:"",isLoading:!1,page:1}),z=Object(H.b)({photos:U,modal:G}),F=(window&&window).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.c,W=Object(H.d)(z,F(Object(H.a)(I.a)));r.a.render(Object(E.jsx)(o.a.StrictMode,{children:Object(E.jsx)(l.a,{children:Object(E.jsx)(i.a,{store:W,children:Object(E.jsx)(C,{})})})}),document.getElementById("root"))}},[[240,1,2]]]);
//# sourceMappingURL=main.0abd8bb9.chunk.js.map